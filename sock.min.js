function keyboard(s){var t={};return t.code=s,t.isDown=!1,t.isUp=!0,t.press=void 0,t.release=void 0,t.downHandler=function(s){s.keyCode===t.code&&(t.isUp&&t.press&&t.press(),t.isDown=!0,t.isUp=!1),s.preventDefault()},t.upHandler=function(s){s.keyCode===t.code&&(t.isDown&&t.release&&t.release(),t.isDown=!1,t.isUp=!0),s.preventDefault()},window.addEventListener("keydown",t.downHandler.bind(t),!1),window.addEventListener("keyup",t.upHandler.bind(t),!1),t}function newHowl(s){return new Howl({src:["scenes/"+s+".ogg","scenes/"+s+".mp3"],loop:!0,volume:.4})}function Game1Sock(){self=this,size=128,speed=15,this.sprite=new PIXI.Sprite.fromImage(ssock),this.sprite.anchor=relcenter,this.sprite.width=size,this.sprite.height=size,this.sprite.position={x:640,y:360},this.die=function(){return cMiddle.removeChild(this.sprite)},this.move=function(){delta={x:0,y:0},(rightArrow.isDown||dKey.isDown)&&this.sprite.position.x<1180&&(delta.x+=speed),(leftArrow.isDown||aKey.isDown)&&this.sprite.position.x>100&&(delta.x-=speed),(upArrow.isDown||wKey.isDown)&&this.sprite.position.y>230&&(delta.y-=speed),(downArrow.isDown||sKey.isDown)&&this.sprite.position.y<620&&(delta.y+=speed),magsqr=Math.sqrt(Math.abs(delta.x)+Math.abs(delta.y)),0!=magsqr&&(delta.x>0&&this.sprite.scale.x>0?this.sprite.scale.x*=-1:delta.x<0&&this.sprite.scale.x<0&&(this.sprite.scale.x*=-1),delta.x/=magsqr,delta.y/=magsqr,this.sprite.position.x+=delta.x,this.sprite.position.y+=delta.y)},cMiddle.addChild(this.sprite)}function Game3Sock(s){self=this;const t=96,e=4;this.sprite=new PIXI.Sprite.fromImage(ssock),this.sprite.anchor=relcenter,this.sprite.width=t,this.sprite.height=t;const i=this.sprite.scale.x;this.sprite.position={x:640,y:210},this.blobsHit=0,this.blobs=[],this.blobSpawner=window.setInterval(function(){self.blobs.push(new Blob(s))},600),this.update=function(){xVel=0,(rightArrow.isDown||dKey.isDown)&&this.sprite.position.x<960&&(this.sprite.scale.x=-i,xVel+=e),(leftArrow.isDown||aKey.isDown)&&this.sprite.position.x>320&&(this.sprite.scale.x=i,xVel-=e),this.sprite.x+=xVel;for(var s in this.blobs)blob=this.blobs[s],blob.update(),blob.sprite.y<-28?(blob.die(),delete this.blobs[s]):vectorDist(blob.sprite.position,this.sprite.position)<76&&(this.blobsHit++,blob.die(),delete this.blobs[s])},this.die=function(){cMiddle.removeChild(this.sprite),window.clearInterval(this.blobSpawner);for(var s in this.blobs)this.blobs[s].die(),delete this.blobs[s]},cMiddle.addChild(this.sprite)}function Game9Sock(){self=this;const s=96,t=7;this.sprite=new PIXI.Sprite.fromImage(ssock),this.sprite.anchor=relcenter,this.sprite.width=s,this.sprite.height=s;const e=this.sprite.scale.x;this.sprite.position={x:640,y:510},this.height=0,this.dltaHt=0,this.yVel=60,this.soaps=[],this.soapSpawner=window.setInterval(function(){self.soaps.push(new Soap)},600),this.update=function(){xVel=0,(rightArrow.isDown||dKey.isDown)&&this.sprite.position.x<960&&(this.sprite.scale.x=-e,xVel+=t),(leftArrow.isDown||aKey.isDown)&&this.sprite.position.x>320&&(this.sprite.scale.x=e,xVel-=t),this.yVel-=.5,this.sprite.x+=xVel,this.height+=this.yVel,this.dltaHt=this.yVel;for(var s in this.soaps)soap=this.soaps[s],soap.sprite.y+=this.dltaHt,soap.update(),vectorDist(soap.sprite.position,this.sprite.position)<76&&(this.yVel=Math.max(0,this.yVel),this.yVel+=45,soap.die(),delete this.soaps[s])},this.die=function(){cMiddle.removeChild(this.sprite),window.clearInterval(this.soapSpawner);for(var s in this.soaps)this.soaps[s].die(),delete this.soaps[s]},cMiddle.addChild(this.sprite)}function Soap(){const s=64;this.sprite=PIXI.Sprite.fromImage(s009so),this.sprite.anchor=relcenter,this.sprite.width=s,this.sprite.height=s,this.sprite.y=-32,this.sprite.x=640*Math.random()+320,this.rot=(Math.random()-.5)/100,this.die=function(){return cFront.removeChild(this.sprite)},this.update=function(){return this.sprite.rotation+=this.rot},cFront.addChild(this.sprite)}function Blob(s){const t=64;this.sprite=PIXI.Sprite.fromImage(s[Math.floor(3*Math.random())]),this.sprite.anchor=relcenter,this.sprite.width=t,this.sprite.height=t,this.sprite.y=784,this.sprite.x=640*Math.random()+320,this.rot=(Math.random()-.5)/100,this.die=function(){return cFront.removeChild(this.sprite)},this.update=function(){this.sprite.y-=6,this.sprite.rotation+=this.rot},cFront.addChild(this.sprite)}function FallingBackground(){this.bgs=[PIXI.Sprite.fromImage(s003bg),PIXI.Sprite.fromImage(s003bg)],this.bgs[1].scale.y*=-1,this.bgs[1].anchor.y=1;const s=this.bgs[0].height;this.bgs[1].y=s;for(var t in this.bgs)this.bgs[t].width=WIDTH,cBack.addChild(this.bgs[t]);this.die=function(){for(var s in this.bgs)cBack.removeChild(this.bgs[s])},this.update=function(e){for(var i in this.bgs)t=this.bgs[i],t.y+=e,t.y<-s?t.y+=2*s:t.y>s&&(t.y-=2*s)}}function Game1Hand(s,t){this.sopen=new PIXI.Sprite.fromImage(s001armo),this.sgrab=new PIXI.Sprite.fromImage(s001armg),this.sopen.position=s,this.sopen.anchor={x:.5,y:.2},this.sopen.pivot=this.sopen.anchor,this.sopen.scale={x:.45,y:.45},this.follow=t,this.aim=gamestate.playerpos(),this.aim={x:this.aim.x,y:this.aim.y},this["return"]=!1,this.friction=50,this.follow&&(this.friction=20),this.correction=-20,this.lookatsock=function(){this.sopen.rotation=Math.atan((this.sopen.position.y-this.aim.y)/(this.sopen.position.x-this.aim.x)),this.sopen.position.x>this.aim.x&&(this.sopen.rotation+=Math.PI),this.sopen.rotation+=90+this.correction/180*Math.PI},this.lookatsock(),this.grabbed=!1,this.grab=function(){this.sgrab.position=this.sopen.position,this.sgrab.anchor=this.sopen.anchor,this.sgrab.scale=this.sopen.scale,this.sgrab.rotation=this.sopen.rotation,this.grabbed=!0,cFront.removeChild(this.sopen),cFront.addChild(this.sgrab)},this.release=function(){return this.die()},this.delta=function(){return{x:this.sopen.position.x-this.aim.x,y:this.sopen.position.y-this.aim.y}},this.decideReturn=function(s){30>s&&!this["return"]&&(this["return"]=!0,this.friction=-40);var t=vectorDist(gamestate.playerpos(),this.sopen.position);70>t&&(this.grab(),cMiddle.removeChild(gamestate.doc.gamesock.sprite),this["return"]=!0,this.friction=-10,window.clearInterval(gamestate.handSpawner),gamestate.doc.gamesock.die(),delete gamestate.doc.gamesock,window.setTimeout(function(){gamestate.health*=gamestate.doc.dt/10,gamestate.nextState()},1e3))},this.logic=function(){const s=this.delta(),t=vectorDist(s,{x:0,y:0});this.sopen.position.x-=s.x/t*600/this.friction,this.sopen.position.y-=s.y/t*600/this.friction,this.grabbed||(this.decideReturn(t),this.follow&&(this.aim=gamestate.playerpos(),this.lookatsock()))},this.die=function(){cFront.removeChild(this.sopen),cFront.removeChild(this.sgrab),window.clearInterval(this.move)};var e=this;this.move=window.setInterval(function(){e.logic()},20),cFront.addChild(this.sopen)}function State(){self=this,this.health=100;const s="Version: 0.08d /",t=" HP";this.debugText=new PIXI.Text(s+0,debugConfig),this.debugText.position={x:5,y:5},this.score=new PIXI.Text("0",pointsConfig),this.score.position={x:1275,y:5},this.score.anchor={x:1,y:0},this.hpbox=new PIXI.Text("0 HP",pointsConfig),this.hpbox.position={x:1275,y:667},this.hpbox.anchor={x:1,y:0},this.infotext=new PIXI.Text("",infoConfig),this.infotext.position={x:640,y:360},this.infotext.anchor=relcenter,this.infotext.warn=function(s){this.text=s,f=function(s){window.setTimeout(function(){s.text=""},2e3)},f(this)},this.doc={},this.number=0,this.playerpos=function(){switch(this.number){case 1:if(this.doc.gamesock)return this.doc.gamesock.sprite.position}return{x:-31415,y:-1337}},cGui.addChild(this.infotext),cGui.addChild(this.debugText),cGui.addChild(this.hpbox),sceneMusic[0].play(),this.run=function(){return console.log("default state")},this.nextState=function(){for(var e in gamestate.doc)gamestate.doc.hasOwnProperty(e)&&(gamestate.doc[e].die?gamestate.doc[e].die():(cGui.removeChild(gamestate.doc[e]),cMiddle.removeChild(gamestate.doc[e]),cFront.removeChild(gamestate.doc[e]),cBack.removeChild(gamestate.doc[e]))),delete gamestate.doc[e];if(enterKey.press=void 0,gamestate.number++,sceneMusic[gamestate.number]){for(var i=gamestate.number-1;i>=0;i--)if(sceneMusic[i]){sceneMusic[i].stop();break}sceneMusic[gamestate.number].play()}else console.log("Continuing music!");gamestate.switched=!0,gamestate.hpbox.text=Math.round(gamestate.health)+t,gamestate.debugText.text=s+gamestate.number,gamestate.run=gamestate.funcarray[gamestate.number]},diasStateGenerator=function(s){return function(){if(this.switched){this.infotext.warn("Press <Enter> to proceed"),this.doc.dias=0;for(var t in s)this.doc[t]=PIXI.Sprite.fromImage(s[t]),this.doc[t].width=WIDTH,this.doc[t].height=HEIGHT;cBack.addChild(this.doc[0]),self=this,enterKey.press=function(){self.doc.dias==s.length-1?(self.nextState(),enterKey.press=void 0):(cBack.removeChild(self.doc[self.doc.dias++]),cBack.addChild(self.doc[self.doc.dias]))},this.switched=!1}}},this.switched=!0,this.funcarray=[diasStateGenerator([s000bed1,s000bed2,s000bed3]),function(){this.switched&&(this.infotext.warn("Use [WASD] to move"),this.starttime=Date.now(),this.doc.points=this.score,this.doc.s001bg=PIXI.Sprite.fromImage(s001bg),this.doc.s001armo=PIXI.Sprite.fromImage(s001armo),this.doc.s001armg=PIXI.Sprite.fromImage(s001armg),this.doc.s001bg.width=WIDTH,this.doc.s001bg.height=HEIGHT,cBack.addChild(this.doc.s001bg),cGui.addChild(this.doc.points),this.doc.gamesock=new Game1Sock,this.spawnHands=function(s){return window.setInterval(function(){switch(orientation=Math.floor(4*Math.random()),rx=WIDTH*Math.random(),ry=HEIGHT*Math.random(),pos={},margin=100,orientation){case 0:pos={x:rx,y:-margin};break;case 1:pos={x:WIDTH+margin,y:ry};break;case 2:pos={x:rx,y:HEIGHT+margin};break;case 3:pos={x:-margin,y:ry}}s.doc[Date.now()]=new Game1Hand(pos)},1500)},this.handSpawner=this.spawnHands(this),this.switched=!1,this.endgame1=!1),this.doc.dt=(Date.now()-this.starttime)/1e3,this.doc.gamesock&&this.doc.gamesock.move(),this.doc.points&&this.doc.dt<=15?this.doc.points.text=Math.floor(this.doc.dt):this.endgame1||(window.clearInterval(this.handSpawner),this.doc.finalhand=new Game1Hand({x:640,y:-50},!0),this.endgame1=!0)},diasStateGenerator([s002wm1,s002wm2,s002wm3,s002wm4]),function(){if(this.switched){this.infotext.warn("Avoid the blobs!"),this.doc.distanceFallen=0,this.doc.bgs=new FallingBackground;const s=[s003ek1,s003ek2,s003ek3];this.doc.points=this.score,this.doc.points.text="0\n0",this.doc.gamesock=new Game3Sock(s),cGui.addChild(this.doc.points),this.switched=!1}this.doc.points.text=Math.floor(this.doc.distanceFallen)+"\n"+this.doc.gamesock.blobsHit,this.doc.bgs.update(-6),this.doc.gamesock.update(),this.doc.distanceFallen+=.01,this.doc.distanceFallen>30&&(blobsHit=this.doc.gamesock.blobsHit,this.health*=0==this.doc.gamesock.blobsHit?1.5:1.3*Math.pow(.95,blobsHit),this.nextState())},diasStateGenerator([s004s1,s004s2,s004s3,s004s4,s004s5,s004s6,s004s7,s004s8,s004s9,s004s10]),function(){if(this.switched){this.pacmandata={},this.pacmandata.down=function(){return sKey.isDown||downArrow.isDown},this.pacmandata.up=function(){return wKey.isDown||upArrow.isDown},this.pacmandata.left=function(){return aKey.isDown||leftArrow.isDown},this.pacmandata.right=function(){return dKey.isDown||rightArrow.isDown},this.pacmandata.warn="Use [WASD] to collect fluff",this.infotext.warn(this.pacmandata.warn),this.doc.background=PIXI.Sprite.fromImage(s005bg),cBack.addChild(this.doc.background),this.switched=!1,this.pacmandata.pos={x:640,y:360},this.pacmandata.sprite=PIXI.Sprite.fromImage(ssock),this.doc.pacmansock=this.pacmandata.sprite,cFront.addChild(this.doc.pacmansock),this.pacmandata.defscale={x:.1,y:.1},this.pacmandata.sprite.scale={x:this.pacmandata.defscale.x,y:this.pacmandata.defscale.y},this.pacmandata.sprite.anchor=relcenter,this.pacmandata.sprite.pivot=relcenter,this.pacmandata.fluff=[],this.pacmandata.num=50,this.pacmandata.score=0,this.pacmandata.speed=10;for(var s=0;s<this.pacmandata.num;s++){for(var t=100,e={},i=!1;!i;)e.x=Math.random()*(WIDTH-2*t)+t,e.y=Math.random()*(HEIGHT-2*t)+t,vectorDist(this.pacmandata.pos,e)>70&&(i=!0);var o=PIXI.Sprite.fromImage(s005fl);o.anchor=relcenter,o.pivot=relcenter,o.position=e,o.scale={x:.1,y:.1},this.doc["fluff"+s]=o,this.pacmandata.fluff.push(this.doc["fluff"+s])}for(var s=0;s<this.pacmandata.fluff.length;s++)cMiddle.addChild(this.pacmandata.fluff[s]);this.pacmandata.logic=function(){this.down()&&(this.pos.y+=this.speed),this.up()&&(this.pos.y-=this.speed),this.left()&&(this.pos.x-=this.speed,this.sprite.scale.x=this.defscale.x),this.right()&&(this.pos.x+=this.speed,this.sprite.scale.x=-this.defscale.x),this.sprite.position=this.pos;for(var s=0;s<this.fluff.length;s++)this.fluff[s]&&(this.fluff[s].rotation+=Math.random(),vectorDist(this.fluff[s].position,this.pos)<60&&(cMiddle.removeChild(this.fluff[s]),this.fluff[s]=void 0,this.score+=1));gamestate.score.text=this.score,gamestate.score.style.fill="#FFFFFF",gamestate.doc.score=this.score,cGui.addChild(gamestate.score)},self=this,this.pacmandata.loop=window.setInterval(function(){self.pacmandata.logic()},20),window.setTimeout(function(){self.health*=.7+.3*self.pacmandata.score/(self.pacmandata.num/2),window.clearInterval(self.pacmandata.loop),d=function(s){window.setTimeout(s.nextState,1e3)},d(self)},8e3)}},this.nextState,this.nextState,diasStateGenerator([s008s]),function(){this.switched&&(this.infotext.warn("Hit the soup to get up"),this.doc.points=this.score,this.doc.bgs=new FallingBackground,this.doc.gamesock=new Game9Sock,cGui.addChild(this.doc.points),this.switched=!1),this.doc.points.text=Math.round(this.doc.gamesock.height/33),this.doc.bgs.update(this.doc.gamesock.dltaHt),this.doc.gamesock.update(),this.doc.gamesock.height>165e3?(this.health*=2,this.nextState()):this.doc.gamesock.height<-2e3&&(this.health/=2,this.nextState(),this.nextState())},diasStateGenerator([s010s1,s010s2]),function(){if(this.switched){cGui.removeChild(this.hpbox),this.doc.background=new PIXI.Sprite.fromImage(s012s1),this.doc.background.width=WIDTH,this.doc.background.height=HEIGHT,cBack.addChild(this.doc.background);var s={font:"50px 'Arvo'",fill:"#FFFFFF",dropShadow:!0,dropShadowColor:"#990000",dropShadowDistance:5,align:"center"},t={font:"70px 'Arvo'",fill:"#FFFFFF",dropShadow:!0,dropShadowColor:"#FF0000",dropShadowDistance:5,align:"center"};this.bossHealth=500,this.display={sock:new PIXI.Text(Math.floor(this.health),s),boss:new PIXI.Text(Math.floor(this.bossHealth),t)},this.doc.so=new PIXI.Sprite.fromImage(ssock),this.doc.d1=this.display.sock,this.doc.d2=this.display.boss,this.display.sock.position={x:100,y:450},this.display.sock.anchor=relcenter,this.display.boss.position={x:640,y:80},this.display.boss.anchor=relcenter,this.doc.so.position={x:100,y:600},this.doc.so.anchor=relcenter,this.doc.so.scale={x:-.2,y:.2},cGui.addChild(this.display.sock),cGui.addChild(this.display.boss),cFront.addChild(this.doc.so),this.time=Date.now(),this.yourTurn=!0,this.updateText=function(){this.display.sock.text=Math.floor(this.health),this.display.boss.text=Math.floor(this.bossHealth)},this.sockAttack=function(){this.bossHealth-=60*Math.random()+20,this.updateText()},this.bossAttack=function(){this.health-=20*Math.random()+30,this.updateText()},this.fight=function(){this.yourTurn?this.sockAttack():this.bossAttack(),this.bossHealth<0?(window.clearInterval(this.fightloop),this.display.boss.text="DEAD",self=this,window.setTimeout(self.nextState,3e3)):this.health<0&&(window.clearInterval(this.fightloop),this.display.sock.text="DEAD",this.display.boss.text="TRY AGAIN"),this.yourTurn=!this.yourTurn},self=this,this.fightloop=window.setInterval(function(){self.fight()},800),this.switched=!1}},diasStateGenerator([s012s1,s012s2,s012s3,s012s4]),function(){if(this.switched){this.switched=!1;var s=new PIXI.Text("Thanks for Playing!",{font:"120px 'Arvo'",fill:"#FFF",align:"center",dropShadow:!0,dropShadowColor:"#FF0000",dropShadowDistance:2});s.anchor=relcenter,s.position={x:640,y:360},cGui.addChild(s),renderer.backgroundColor=0}}],this.run=this.funcarray[this.number]}function setup(){renderStage()}function renderStage(){requestAnimationFrame(renderStage),gamestate.run(),renderer.render(stage)}const WIDTH=1280,HEIGHT=720,version="0.08d";var renderer=PIXI.autoDetectRenderer(WIDTH,HEIGHT,{antialiasing:!0,transparent:!1,resolution:1});renderer.backgroundColor=7258827,document.getElementById("gamediv").appendChild(renderer.view);var stage=new PIXI.Container,cBack=new PIXI.Container,cMiddle=new PIXI.Container,cFront=new PIXI.Container,cGui=new PIXI.Container;const fontConfig={font:"30px 'Arvo'",fill:"#000000",align:"left",dropShadow:!0,dropShadowColor:"#FFFFFF"},debugConfig={font:"20px 'Arvo'",fill:"#FFF",align:"left"},pointsConfig={font:"50px 'Arvo'",fill:"#000000",align:"right",dropShadow:!0,dropShadowColor:"#FF0000"},infoConfig={font:"60px 'Arvo'",fill:"#FFFFFF",align:"center",dropShadow:!0,dropShadowColor:"#000000",dropShadowDistance:10},relcenter={x:.5,y:.5},abscenter={x:640,y:360},enterKey=keyboard(13),leftArrow=keyboard(37),upArrow=keyboard(38),rightArrow=keyboard(39),downArrow=keyboard(40),aKey=keyboard(65),wKey=keyboard(87),dKey=keyboard(68),sKey=keyboard(83);resourc=function(s){return"./scenes/"+s};const s000bed1=resourc("000/bed.pic1.jpg"),s000bed2=resourc("000/bed.pic2.jpg"),s000bed3=resourc("000/bed.pic3.jpg"),s001bg=resourc("001/background.jpg"),ssock=resourc("001/sock.png"),s001armo=resourc("001/arm.open.png"),s001armg=resourc("001/arm.sock.png"),s002wm1=resourc("002/waschmaschine1.jpg"),s002wm2=resourc("002/waschmaschine2.jpg"),s002wm3=resourc("002/waschmaschine3.jpg"),s002wm4=resourc("002/waschmaschine4.jpg"),s003ek1=resourc("003/eklig1.png"),s003ek2=resourc("003/eklig2.png"),s003ek3=resourc("003/eklig3.png"),s003bg=resourc("003/falling.bg.jpg"),s004s1=resourc("004/sewer1.jpg"),s004s2=resourc("004/sewer2.jpg"),s004s3=resourc("004/sewer3.jpg"),s004s4=resourc("004/sewer4.jpg"),s004s5=resourc("004/sewer5.jpg"),s004s6=resourc("004/sewer6.jpg"),s004s7=resourc("004/sewer7.jpg"),s004s8=resourc("004/sewer8.jpg"),s004s9=resourc("004/sewer9.jpg"),s004s10=resourc("004/sewer10.jpg"),s005fl=resourc("005/fluse.png"),s005bg=resourc("005/snake.bg.jpg"),s005pac1=resourc("005/sock.pacman1.png"),s005pac2=resourc("005/sock.pacman2.png"),s008s=resourc("008/pipehome.jpg"),s009so=resourc("009/soap.png"),s010s1=resourc("010/winjump1.jpg"),s010s2=resourc("010/winjump2.jpg"),s011boss=resourc("011/boss.png"),s012s1=resourc("012/boss.bg1.jpg"),s012s2=resourc("012/boss.bg2.jpg"),s012s3=resourc("012/boss.bg3.jpg"),s012s4=resourc("012/boss.bg4.jpg"),introMusic=newHowl("000/SockventureIntro"),sceneMusic=[introMusic,newHowl("001/SockventureHand"),introMusic,newHowl("003/SockventureSewerFall"),!1,newHowl("005/SockventureSnake"),introMusic,!1,!1,newHowl("009/SockventureSewerJump"),introMusic,newHowl("011/SockventureBoss"),!1,newHowl("009/SockventureSewerJump")];vectorDist=function(s,t){return Math.hypot(s.x-t.x,s.y-t.y)};var gamestate=new State;stage.addChild(cBack),stage.addChild(cMiddle),stage.addChild(cFront),stage.addChild(cGui),PIXI.loader.add(s000bed1).add(s000bed2).add(s000bed3).add(s001bg).add(s001armg).add(s001armo).add(ssock).add(s002wm1).add(s002wm2).add(s002wm3).add(s002wm4).add(s003ek1).add(s003ek2).add(s003ek3).add(s003bg).add(s004s1).add(s004s2).add(s004s3).add(s004s4).add(s004s5).add(s004s6).add(s004s7).add(s004s8).add(s004s9).add(s004s10).add(s005fl).add(s005bg).add(s005pac1).add(s005pac2).add(s008s).add(s009so).add(s010s1).add(s010s2).add(s011boss).add(s012s1).add(s012s2).add(s012s3).load(setup),jmp=function(s){for(var t=0;s>t;t++)gamestate.nextState()};